{"version":3,"sources":["webpack:///./~/edx-ui-toolkit/src/js/utils/constants.js","webpack:///./openedx/features/course_experience/static/course_experience/js/CourseOutline.js"],"names":["CourseOutline","focusable","document","querySelectorAll","forEach","el","addEventListener","event","index","indexOf","target","key","keys","down","preventDefault","Math","min","length","focus","up","max","link","Logger","log","current_url","window","location","href","target_url","currentTarget"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AAAA;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,uEAEA;AACA;;;;;;;;;;;;;;;;;AC1DA;;AAEA;;AAEA;AACA,IAAaA,aAAb,GAA8B;AAC5B,yBAAc;AAAA;;AACZ,MAAMC,yCAAgBC,SAASC,gBAAT,CAA0B,yBAA1B,CAAhB,EAAN;;AAEAF,YAAUG,OAAV,CAAkB;AAAA,WAAMC,GAAGC,gBAAH,CAAoB,SAApB,EAA+B,UAACC,KAAD,EAAW;AAChE,UAAMC,QAAQP,UAAUQ,OAAV,CAAkBF,MAAMG,MAAxB,CAAd;;AAEA,cAAQH,MAAMI,GAAd,GAAsB;AACpB,aAAK,uEAAAC,CAAKC,IAAV;AACEN,gBAAMO,cAAN;AACAb,oBAAUc,KAAKC,GAAL,CAASR,QAAQ,CAAjB,EAAoBP,UAAUgB,MAAV,GAAmB,CAAvC,CAAV,EAAqDC,KAArD;AACA;AACF,aAAK,uEAAAN,CAAKO,EAAV;AAAe;AACbZ,gBAAMO,cAAN;AACAb,oBAAUc,KAAKK,GAAL,CAASZ,QAAQ,CAAjB,EAAoB,CAApB,CAAV,EAAkCU,KAAlC;AACA;AARJ;AAUD,KAbuB,CAAN;AAAA,GAAlB;;AAeA,+BAAIhB,SAASC,gBAAT,CAA0B,oBAA1B,CAAJ,GACGC,OADH,CACW;AAAA,WAAQiB,KAAKf,gBAAL,CAAsB,OAAtB,EAA+B,UAACC,KAAD,EAAW;AACzDe,aAAOC,GAAP,CACE,yBADF,EAEE;AACEC,qBAAaC,OAAOC,QAAP,CAAgBC,IAD/B;AAEEC,oBAAYrB,MAAMsB,aAAN,CAAoBF;AAFlC,OAFF;AAOD,KARgB,CAAR;AAAA,GADX;AAWD,CA9BH,C","file":"CourseOutline.js","sourcesContent":["/**\n * Reusable constants.\n */\n(function(define) {\n    'use strict';\n    define([], function() {\n        /**\n         * Reusable constants.\n         *\n         * ### keys - A mapping of key names to their corresponding identifiers.\n         * ### keyCodes - A mapping of key names to their corresponding keyCodes (DEPRECATED).\n         *\n         * - `constants.keys.tab` - the tab key\n         * - `constants.keys.enter` - the enter key\n         * - `constants.keys.esc` - the escape key\n         * - `constants.keys.space` - the space key\n         * - `constants.keys.left` - the left arrow key\n         * - `constants.keys.up` - the up arrow key\n         * - `constants.keys.right` - the right arrow key\n         * - `constants.keys.down` - the down arrow key\n         *\n         * @class constants\n         */\n        return {\n            keys: {\n                tab: 'Tab',\n                enter: 'Enter',\n                esc: 'Escape',\n                space: 'Space',\n                left: 'ArrowLeft',\n                up: 'ArrowUp',\n                right: 'ArrowRight',\n                down: 'ArrowDown'\n            },\n            // NOTE: keyCode is deprecated. Use the `key` or `code` event property if possible.\n            // See: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode\n            keyCodes: {\n                tab: 9,\n                enter: 13,\n                esc: 27,\n                space: 32,\n                left: 37,\n                up: 38,\n                right: 39,\n                down: 40\n            }\n        };\n    });\n}).call(\n    this,\n    // Pick a define function as follows:\n    // 1. Use the default 'define' function if it is available\n    // 2. If not, use 'RequireJS.define' if that is available\n    // 3. else use the GlobalLoader to install the class into the edx namespace\n    // eslint-disable-next-line no-nested-ternary\n    typeof define === 'function' && define.amd ? define :\n        (typeof RequireJS !== 'undefined' ? RequireJS.define :\n            edx.GlobalLoader.defineAs('constants', 'edx-ui-toolkit/js/utils/constants'))\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/edx-ui-toolkit/src/js/utils/constants.js\n// module id = ./node_modules/edx-ui-toolkit/src/js/utils/constants.js\n// module chunks = 3","/* globals Logger */\n\nimport { keys } from 'edx-ui-toolkit/js/utils/constants';\n\n// @TODO: Figure out how to make webpack handle default exports when libraryTarget: 'window'\nexport class CourseOutline {  // eslint-disable-line import/prefer-default-export\n  constructor() {\n    const focusable = [...document.querySelectorAll('.outline-item.focusable')];\n\n    focusable.forEach(el => el.addEventListener('keydown', (event) => {\n      const index = focusable.indexOf(event.target);\n\n      switch (event.key) {  // eslint-disable-line default-case\n        case keys.down:\n          event.preventDefault();\n          focusable[Math.min(index + 1, focusable.length - 1)].focus();\n          break;\n        case keys.up:  // @TODO: Get these from the UI Toolkit\n          event.preventDefault();\n          focusable[Math.max(index - 1, 0)].focus();\n          break;\n      }\n    }));\n\n    [...document.querySelectorAll('a:not([href^=\"#\"])')]\n      .forEach(link => link.addEventListener('click', (event) => {\n        Logger.log(\n          'edx.ui.lms.link_clicked',\n          {\n            current_url: window.location.href,\n            target_url: event.currentTarget.href,\n          },\n        );\n      }),\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./openedx/features/course_experience/static/course_experience/js/CourseOutline.js"],"sourceRoot":""}